+++
weight = 100
date = "2023-05-03T22:37:22+01:00"
draft = false
title = "Inicio rÃ¡pido"
icon = "rocket_launch"
toc = true
publishdate = "2023-05-03T22:37:22+01:00"
+++

## Crear un nuevo sitio

Para crear el nuevo sitio, crea un archivo `composer.json` y pega el siguiente contenido:

{{< prism lang="json" line-numbers="true" >}}

    {
        "require": {
            "laminas/laminas-di": "^3.14",
            "laminas/laminas-diactoros": "^3.3",
            "laminas/laminas-servicemanager": "^4.1",
            "php-di/php-di": "^7.0",
            "slim/slim": "^4.13",
            "zeuxisoo/slim-whoops": "^0.7.3"
        },
        "autoload": {
            "psr-4": {
                "Cms\\": "src/"
            }
        }
    }

{{< /prism >}}

Es importante para que este proceso y el siguiente funcionen correctamente, que tengas instalado Composer en tu sistema.
Si no lo tienes, puedes descargarlo desde [getcomposer.org](https://getcomposer.org/). De lo contrario, no podrÃ¡s
continuar con el tutorial.

AsÃ­ mismo es necesario descargar Yarn, puedes descargarlo
desde [yarnpkg.com](https://yarnpkg.com/getting-started/install).

## Instalar dependencias

Para instalar las dependencias, ejecuta el siguiente comando en la terminal:

```bash
composer install
```

Una vez que Composer haya terminado, se creara el directorio `vendor` en tu proyecto.

## La estructura de carpetas

La estructura de carpetas de tu proyecto deberÃ­a verse asÃ­:

```
ðŸ“¦ cms
â”œâ”€Â config
â”‚Â Â â”œâ”€Â app.php
â”‚Â Â â”œâ”€Â container.php
â”‚Â Â â”œâ”€Â middleware.php
â”‚Â Â â”œâ”€Â routes.php
â”œâ”€Â public
â”‚Â Â â”œâ”€Â index.php
â”‚Â Â â””â”€Â .htaccess
â”œâ”€Â src
â”œâ”€Â vendor
â”œâ”€Â .htaccess
â””â”€Â composer.json
```

Â©generated by [Project Tree Generator](https://woochanleee.github.io/project-tree-generator)

## Crear un archivo de configuraciÃ³n

Crea un archivo `config/app.php` y pega el siguiente contenido:

{{< prism lang="php" line-numbers="true" >}}

    <?php
    
    use DI\ContainerBuilder;
    use Slim\App;
    
    require_once __DIR__ . '/../vendor/autoload.php';
    $containerBuilder = new ContainerBuilder();
    // Add DI container definitions
    $containerBuilder->addDefinitions(__DIR__ . '/container.php');
    // Create DI container instance
    try {
        $container = $containerBuilder->build();
        $app = $container->get(App::class);
        $app->run();
    } catch (Exception $e) {
    }

{{< /prism >}}

## Crear un archivo de contenedor

Crea un archivo `config/container.php` y pega el siguiente contenido:

{{< prism lang="php" line-numbers="true" >}}

    <?php
    
    use Cms\Controller\HomeController;
    use Psr\Container\ContainerInterface;
    use Slim\App;
    use Slim\Factory\AppFactory;
    
    return [
        //APP
        App::class => function (ContainerInterface $container) {
    
            $app = AppFactory::createFromContainer($container);
            (require_once __DIR__ . '/routes.php')($app);
            (require_once __DIR__ . '/middleware.php')($app);
            return $app;
        }
    ];

{{< /prism >}}

## Crear un archivo de rutas

Crea un archivo `config/routes.php` y pega el siguiente contenido:

{{< prism lang="php" line-numbers="true" >}}

    <?php

    use Slim\App;

    return function (App $app) {
        $app->get('/', function ($request, $response) {
            return $response->write('Hello, World!');
        });
    };

{{< /prism >}}

## Crear un archivo de middlewares

Crea un archivo `config/middleware.php` y pega el siguiente contenido:

{{< prism lang="php" line-numbers="true" >}}

    <?php
    
    use Slim\App;
    
    return function (App $app) {
    
        // Parse json, form data and xml
        $app->addBodyParsingMiddleware();
        // Add the Slim built-in routing middleware
        $app->addRoutingMiddleware();
        //Whops!
        $app->add(new Zeuxisoo\Whoops\Slim\WhoopsMiddleware([
            'enable' => true,
            'editor' => 'sublime',
            'title' => 'Parece que hay un error',
        ]));
        //Add Base Path
        $app->setBasePath('/cms_ims');
    };

{{< /prism >}}

## Crear un archivo de entrada

Crea un archivo `public/index.php` y pega el siguiente contenido:

{{< prism lang="php" line-numbers="true" >}}

    <?php

    use Slim\Factory\AppFactory;

    require __DIR__ . '/../vendor/autoload.php';

    $app = AppFactory::create();

    (require __DIR__ . '/../config/middlewares.php')($app);
    (require __DIR__ . '/../config/routes.php')($app);

    $app->run();

{{< /prism >}}

## Crear archivos `.htaccess`

Crear un archivo `.htaccess` en la raÃ­z del proyecto y pega el siguiente contenido:

{{< prism lang="apache" line-numbers="true" >}}

    RewriteEngine on
    RewriteRule ^$ public/ [L]
    RewriteRule (.*) public/$1 [L]

{{< /prism >}}

Crea un archivo `.htaccess` en la carpeta `public` y pega el siguiente contenido:

{{< prism lang="apache" line-numbers="true" >}}

    RewriteEngine On
    RewriteBase /[cms_ims]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^ index.php [QSA,L]

{{< /prism >}}

El apartado `[cms_ims]` es el nombre de la carpeta en la que se encuentra tu proyecto.

## Ejecutar el proyecto

Para ejecutar el proyecto, ejecuta el siguiente comando en la terminal:

```bash
php -S localhost:8000 -t public
```

Abre tu navegador y navega a `http://localhost:8000`. DeberÃ­as ver el mensaje `Hello, World!`.

Â¡Felicidades! Has creado tu primer proyecto Slim.